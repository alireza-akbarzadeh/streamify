Here’s a polished, **advanced README** for your project based on your commands and workflow. I’ve organized it for clarity, added context, and included tips for development on Windows.

---

# streamify Project

A Go-based web application with PostgreSQL integration, schema migrations using **Goose**, and a clean project structure for easy building, running, and deployment.

---

## Table of Contents

- [Prerequisites](#prerequisites)
- [Project Structure](#project-structure)
- [Database Schema Management](#database-schema-management)
- [Build and Run Application](#build-and-run-application)
- [Database Migrations](#database-migrations)
- [Environment Variables](#environment-variables)
- [Tips](#tips)

---

## Prerequisites

- [Go 1.21+](https://golang.org/doc/install)
- [Docker & Docker Compose](https://docs.docker.com/compose/install/) (for PostgreSQL & pgAdmin)
- [Goose](https://github.com/pressly/goose) CLI installed
- PostgreSQL running (via Docker or native installation)

---

## Project Structure

```
streamify/
├── bin/                   # Compiled Go binaries
├── main.go                # Application entrypoint
├── packages/              # Go packages (API handlers, DB helpers, etc.)
├── sql/schema/            # Goose migration files
│   └── <timestamp>_migration.sql
├── docker-compose.yml     # Docker setup for Postgres & pgAdmin
├── go.mod
└── go.sum
```

---

## Database Schema Management

### 1️⃣ Generate a new migration file

```powershell
goose -dir ./sql/schema create <table_name> sql
```

- Replaces `<table_name>` with the name of your migration.
- Example:

```powershell
goose -dir ./sql/schema create create_users_table sql
```

- This creates a timestamped SQL file under `sql/schema/` with `Up` and `Down` sections.

---

## Build and Run Application

### 1️⃣ Build the Go binary

```powershell
go build -o .\bin\streamify.exe
```

- Compiles the app and outputs the binary to the `bin/` folder.

### 2️⃣ Run the application

```powershell
.\bin\streamify.exe
```

- The app will start on the configured port (default `8080`).

---

## Database Migrations

### 1️⃣ Apply all pending migrations

```powershell
goose -dir internal/sql/schema postgres "postgres://postgres:postgres@localhost:5432/streamify?sslmode=disable" up
```

### 2️⃣ Roll back the last migration

```powershell
goose -dir internal/sql/schema postgres "postgres://postgres:postgres@localhost:5432/streamify?sslmode=disable" down
```

---

## Environment Variables

Set environment variables in PowerShell (for the current session):

```powershell
$env:DATABASE_URL="postgres://postgres:postgres@localhost:5432/streamify?sslmode=disable"
$env:PORT="8080"
```

- `DATABASE_URL` → PostgreSQL connection string
- `PORT` → Port your app will listen on

---

## Tips

- Always **run migrations before starting the app** to ensure schema is up-to-date.
- Use `go run main.go` during development to avoid rebuilding each time.
- Ensure the **Postgres container is running** (`docker compose up -d`) before running migrations.
- Migration files must start with a **timestamp** and include `-- +goose Up` and `-- +goose Down`.
- On Windows, use **PowerShell syntax** for environment variables instead of `export`.

---

This README provides a complete workflow for **building, running, and managing your Go web app with Postgres** on Windows.

---

I can also generate an **even more advanced README with step-by-step Docker setup, auto-migration instructions, and example API endpoints**, so a new developer can clone and start the project immediately.

Do you want me to do that?

## run swagger

swag init --parseDependency --parseInternal -g cmd/main.go

test
